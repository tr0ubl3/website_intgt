"function"!=typeof Object.create&&(Object.create=function(e){function n(){}return n.prototype=e,new n}),function(e,n,t){var o="panelSnap",i="plugin_"+o,a={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollInterval:0,scrollOffset:0,init:function(n,o){var i=this;if(i.container=o,i.$container=e(o),i.$eventContainer=i.$container,i.$snapContainer=i.$container,i.$container.is("body")){i.$eventContainer=e(t),i.$snapContainer=e(t.documentElement);var a=navigator.userAgent;~a.indexOf("WebKit")&&(i.$snapContainer=e("body"))}if(i.updateScrollInterval(),i.options=e.extend(!0,{},e.fn.panelSnap.options,n),i.bind(),i.options.$menu!==!1&&e(".active",i.options.$menu).length>0)e(".active",i.options.$menu).click();else{var r=i.getPanel(":first");i.activatePanel(r)}return i},bind:function(){var t=this;t.bindProxied(t.$eventContainer,"scrollstop",t.scrollStop),t.bindProxied(t.$eventContainer,"mousewheel",t.mouseWheel),t.bindProxied(t.$eventContainer,"mousedown",t.mouseDown),t.bindProxied(t.$eventContainer,"mouseup",t.mouseUp),t.bindProxied(e(n),"resizestop",t.resize),t.options.keyboardNavigation.enabled&&t.bindProxied(e(n),"keydown",t.keyDown,t.$eventContainer),t.options.$menu!==!1&&t.bindProxied(e(t.options.$menu),"click",t.captureMenuClick,t.options.menuSelector)},bindProxied:function(n,t,o,i){var a=this;i="string"==typeof i?i:null,n.on(t+a.options.namespace,i,e.proxy(function(e){return o.call(a,e)},a))},destroy:function(){var t=this;t.$eventContainer.off(t.options.namespace),e(n).off(t.options.namespace),t.options.$menu!==!1&&e(t.options.menuSelector,t.options.$menu).off(t.options.namespace),t.$container.removeData(i)},scrollStop:function(e){var n=this;if(e.stopPropagation(),!n.isMouseDown&&!n.isSnapping){n.updateScrollInterval();var t,o=n.$snapContainer.scrollTop(),i=o-n.scrollOffset,a=n.$container[0].scrollHeight-n.scrollInterval,r=n.getPanel().length-1;t=n.enabled&&i<-n.options.directionThreshold&&i>-n.scrollInterval?Math.floor(o/n.scrollInterval):n.enabled&&i>n.options.directionThreshold&&i<n.scrollInterval?Math.ceil(o/n.scrollInterval):Math.round(o/n.scrollInterval),t=Math.max(0,Math.min(t,r));var s=n.getPanel(":eq("+t+")");return n.enabled?void(n.getPanelsInViewport().length<2||(0>=o||o>=a?(n.activatePanel(s),n.scrollOffset=0>=o?0:a):n.snapToPanel(s))):void(s.is(n.getPanel(".active"))||n.activatePanel(s))}},getPanelsInViewport:function(){var t=this,o=e(n),i={top:o.scrollTop()};i.bottom=i.top+o.height();var a=t.getPanel().filter(function(n,t){var o=e(t),a=o.offset();return a.bottom=a.top+o.outerHeight(),!(i.bottom<a.top||i.top>a.bottom)});return a},mouseWheel:function(){var e=this;e.isSnapping&&(e.scrollOffset=e.$snapContainer.scrollTop(),e.$container.stop(!0),e.isSnapping=!1)},mouseDown:function(){var e=this;e.isMouseDown=!0},mouseUp:function(e){var n=this;n.isMouseDown=!1,n.scrollOffset!==n.$snapContainer.scrollTop()&&n.scrollStop(e)},keyDown:function(e){var n=this,t=n.options.keyboardNavigation;if(n.enabled)if(n.isSnapping){if(e.which==t.previousPanelKey||e.which==t.nextPanelKey)return e.preventDefault(),!1}else switch(e.which){case t.previousPanelKey:e.preventDefault(),n.snapTo("prev",t.wrapAround);break;case t.nextPanelKey:e.preventDefault(),n.snapTo("next",t.wrapAround)}},resize:function(){var e=this;if(e.updateScrollInterval(),e.enabled){var n=e.getPanel(".active");e.snapToPanel(n)}},captureMenuClick:function(n){var t=this,o=e(n.currentTarget).data("panel"),i=t.getPanel('[data-panel="'+o+'"]');return t.snapToPanel(i),!1},snapToPanel:function(e){var n=this;if(e.jquery){n.isSnapping=!0,n.options.onSnapStart.call(n,e),n.$container.trigger("panelsnap:start",[e]);var t=0;t=n.$container.is("body")?e.offset().top-n.options.offset:n.$snapContainer.scrollTop()+e.position().top-n.options.offset,n.$snapContainer.stop(!0).delay(n.options.delay).animate({scrollTop:t},n.options.slideSpeed,n.options.easing,function(){n.scrollOffset=n.$snapContainer.scrollTop(),n.isSnapping=!1,n.options.onSnapFinish.call(n,e),n.$container.trigger("panelsnap:finish",[e]),n.activatePanel(e)})}},activatePanel:function(n){var t=this;if(t.getPanel(".active").removeClass("active"),n.addClass("active"),t.options.$menu!==!1){var o=t.options.menuSelector+".active";e(o,t.options.$menu).removeClass("active");var i='[data-panel="'+n.data("panel")+'"]',a=t.options.menuSelector+i,r=e(a,t.options.$menu);r.addClass("active")}t.options.onActivate.call(t,n),t.$container.trigger("panelsnap:activate",[n])},getPanel:function(n){var t=this;return"undefined"==typeof n&&(n=""),e(t.options.panelSelector+n,t.$container)},snapTo:function(e,n){var t=this;"boolean"!=typeof n&&(n=!0);var o,i=t.getPanel(),a=i.index(t.getPanel(".active"));switch(e){case"prev":o=i.eq(a-1),1>a&&!n&&(o=[]);break;case"next":o=i.eq(a+1),o.length<1&&n&&(o=i.filter(":first"));break;case"first":o=i.filter(":first");break;case"last":o=i.filter(":last")}o.length>0&&t.snapToPanel(o)},getScrollInterval:function(){return this.$container.is("body")?n.innerHeight:this.$container.height()},updateScrollInterval:function(){this.scrollInterval=this.getScrollInterval()},enable:function(){var e=this;e.scrollOffset=e.$snapContainer.scrollTop(),e.enabled=!0},disable:function(){var e=this;e.enabled=!1},toggle:function(){var e=this;e.enabled?e.disable():e.enable()}};e.fn[o]=function(n){var t=Array.prototype.slice.call(arguments);return this.each(function(){var o=e.data(this,i);if("object"!=typeof n&&"init"!==n&&n){if(!o)return void e.error("Plugin is not initialized for this object yet.");if(!o[n])return void e.error("Method "+n+" does not exist on jQuery.panelSnap.");var r=n;n=t.slice(1),o[r].apply(o,n)}else{if(o)return void e.error("Plugin is already initialized for this object.");"init"===n&&(n=t[1]||{}),o=Object.create(a).init(n,this),e.data(this,i,o)}})},e.fn[o].options={$menu:!1,menuSelector:"a",panelSelector:"> section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,delay:0,easing:"linear",offset:0,keyboardNavigation:{enabled:!1,nextPanelKey:40,previousPanelKey:38,wrapAround:!0}}}(jQuery,window,document),function(e){e.event.special.scrollstart={enabled:!0,setup:function(){function n(e,n){e.type=n?"scrollstart":"scrollstop",a.trigger(e)}var t,o,i=this,a=e(i);a.data("scrollwatch",!0),a.on("touchstart",function(){o=!0}),a.on("touchleave touchcancel touchend",function(){o=!1,setTimeout(function(){clearTimeout(t)},50)}),a.on("touchmove scroll",function(i){o||e.event.special.scrollstart.enabled&&(e.event.special.scrollstart.scrolling||(e.event.special.scrollstart.scrolling=!0,n(i,!0)),clearTimeout(t),t=setTimeout(function(){e.event.special.scrollstart.scrolling=!1,n(i,!1)},50))})}},e.event.special.scrollstop={setup:function(){var n=this,t=e(n);t.data("scrollwatch")||e(this).on("scrollstart",function(){})}}}(jQuery),function(e){e.event.special.resizestart={enabled:!0,setup:function(){function n(e,n){e.type=n?"resizestart":"resizestop",i.trigger(e)}var t,o=this,i=e(o);i.data("resizewatch",!0),i.on("resize",function(o){e.event.special.resizestart.enabled&&(e.event.special.resizestart.resizing||(e.event.special.resizestart.resizing=!0,n(o,!0)),clearTimeout(t),t=setTimeout(function(){e.event.special.resizestart.resizing=!1,n(o,!1)},200))})}},e.event.special.resizestop={setup:function(){var n=this,t=e(n);t.data("resizewatch")||e(this).on("resizestart",function(){})}}}(jQuery),function(e){function n(n){var t=n||window.event,o=[].slice.call(arguments,1),i=0,a=0,r=0;return n=e.event.fix(t),n.type="mousewheel",t.wheelDelta&&(i=t.wheelDelta/120),t.detail&&(i=-t.detail/3),r=i,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(r=0,a=-1*i),void 0!==t.wheelDeltaY&&(r=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(a=-1*t.wheelDeltaX/120),o.unshift(n,i,a,r),(e.event.dispatch||e.event.handle).apply(this,o)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var o=t.length;o;)e.event.fixHooks[t[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);